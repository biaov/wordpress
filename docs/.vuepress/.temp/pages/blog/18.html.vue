<template><div><h1 id="æœåŠ¡å™¨ä½¿ç”¨-docker-ä»é›¶éƒ¨ç½²-vue-é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡å™¨ä½¿ç”¨-docker-ä»é›¶éƒ¨ç½²-vue-é¡¹ç›®" aria-hidden="true">#</a> æœåŠ¡å™¨ä½¿ç”¨ Docker ä»é›¶éƒ¨ç½² Vue é¡¹ç›®</h1>
<h2 id="å‰æ" tabindex="-1"><a class="header-anchor" href="#å‰æ" aria-hidden="true">#</a> å‰æ</h2>
<ul>
<li>ä¸€å°æœåŠ¡å™¨ ( Linux å†…æ ¸ç³»ç»Ÿ - CentOS 8 ä¸ºä¾‹ )ï¼Œå¦‚æœæ˜¯æœ¬åœ°è£… docker æ¨¡æ‹Ÿçš„è¯ï¼Œè·³è¿‡æ­¤é˜¶æ®µ</li>
<li>äº†è§£ docker ç®€å•æ¦‚å¿µï¼ŒLinux ç®€å•æ“ä½œ</li>
</ul>
<div class="custom-container warning"><p class="custom-container-title">æ³¨æ„</p>
<p>æœåŠ¡å™¨ä¿è¯å¯ä»¥æ­£å¸¸è¿æ¥è®¿é—®ï¼Œå›½å†…çš„å·²å¤‡æ¡ˆï¼Œå¹¶å¼€æ”¾äº†ç«¯å£</p>
</div>
<h3 id="é¢˜å¤–è¯-æœåŠ¡å™¨é‡è£…ç³»ç»Ÿ-ä»¥é˜¿é‡Œäº‘ä¸ºä¾‹" tabindex="-1"><a class="header-anchor" href="#é¢˜å¤–è¯-æœåŠ¡å™¨é‡è£…ç³»ç»Ÿ-ä»¥é˜¿é‡Œäº‘ä¸ºä¾‹" aria-hidden="true">#</a> é¢˜å¤–è¯-æœåŠ¡å™¨é‡è£…ç³»ç»Ÿï¼ˆä»¥é˜¿é‡Œäº‘ä¸ºä¾‹ï¼‰</h3>
<ol>
<li>
<p>ç™»å½•é˜¿é‡Œäº‘è´¦å·ï¼Œå³ä¸Šè§’æ‰“å¼€æ§åˆ¶å°</p>
<p><img src="https://img-blog.csdnimg.cn/20210422183634269.png" alt="å›¾ç‰‡"></p>
</li>
<li>
<p>æ‰¾åˆ°äº‘æœåŠ¡å™¨ ECSï¼ˆç‚¹å‡»å·¦ä¾§æ ç›®ï¼‰ï¼Œåœæ­¢æœåŠ¡å™¨ï¼ˆå®ä¾‹ï¼‰
<img src="https://img-blog.csdnimg.cn/20210422183709477.png" alt="å›¾ç‰‡"></p>
</li>
<li>
<p>ç‚¹å‡»å·¦ä¾§å®ä¾‹ï¼Œç‚¹å‡»åˆ—è¡¨æ›´å¤š &gt; äº‘ç›˜å’Œé•œåƒ &gt; æ›´æ¢æ“ä½œç³»ç»Ÿ
<img src="https://img-blog.csdnimg.cn/20210422183911872.png" alt="å›¾ç‰‡"></p>
</li>
</ol>
<ul>
<li>æ¥ä¸‹æ¥è¿›å…¥æ­£é¢˜</li>
</ul>
<h2 id="å®‰è£…-docker" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-docker" aria-hidden="true">#</a> å®‰è£… docker</h2>
<h3 id="è¿æ¥æœåŠ¡å™¨-è¿™é‡Œç”¨çš„-xshell" tabindex="-1"><a class="header-anchor" href="#è¿æ¥æœåŠ¡å™¨-è¿™é‡Œç”¨çš„-xshell" aria-hidden="true">#</a> è¿æ¥æœåŠ¡å™¨ï¼Œè¿™é‡Œç”¨çš„ xshell</h3>
<ul>
<li>æ‰“å¼€ xshellï¼Œç‚¹å‡»å·¦ä¸Šè§’æ–°å»ºï¼Œè¾“å…¥ IP åœ°å€ &gt; è´¦å· ( root ) å’Œå¯†ç ï¼ˆé‡è£…ç³»ç»Ÿçš„æ—¶å€™è®¾ç½®çš„ï¼‰</li>
</ul>
<h3 id="è¾“å…¥å®‰è£…å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#è¾“å…¥å®‰è£…å‘½ä»¤" aria-hidden="true">#</a> è¾“å…¥å®‰è£…å‘½ä»¤</h3>
<div class="language-Basic line-numbers-mode" data-ext="Basic"><pre v-pre class="language-Basic"><code>curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ" tabindex="-1"><a class="header-anchor" href="#æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ" aria-hidden="true">#</a> æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ</h3>
<div class="language-Basic line-numbers-mode" data-ext="Basic"><pre v-pre class="language-Basic"><code>docker -v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://img-blog.csdnimg.cn/20210422183924446.png#pic_center" alt="å›¾ç‰‡"></p>
<div class="custom-container tip"><p class="custom-container-title">æˆåŠŸ</p>
<p>æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œå®‰è£…æˆåŠŸ</p>
</div>
<h2 id="é…ç½®-nginx-web-æœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#é…ç½®-nginx-web-æœåŠ¡å™¨" aria-hidden="true">#</a> é…ç½® nginx web æœåŠ¡å™¨</h2>
<h3 id="ä¸‹è½½-nginx-é•œåƒ" tabindex="-1"><a class="header-anchor" href="#ä¸‹è½½-nginx-é•œåƒ" aria-hidden="true">#</a> ä¸‹è½½ nginx é•œåƒ</h3>
<div class="language-Basic line-numbers-mode" data-ext="Basic"><pre v-pre class="language-Basic"><code>docker pull nginx:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="å¯åŠ¨ä¸€ä¸ªæ¥è‡ªäº-nginx-é•œåƒçš„-docker-å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨ä¸€ä¸ªæ¥è‡ªäº-nginx-é•œåƒçš„-docker-å®¹å™¨" aria-hidden="true">#</a> å¯åŠ¨ä¸€ä¸ªæ¥è‡ªäº nginx é•œåƒçš„ docker å®¹å™¨</h3>
<ul>
<li>å¦‚ä½•ä½ å·²ç»æœ‰äº† nginx é…ç½®æ–‡ä»¶åˆ™çœç•¥æ­¤æ­¥éª¤ï¼Œå¦‚ä½•æ²¡æœ‰ï¼Œåˆ™æŒ‰ä»¥ä¸‹æ­¥éª¤æ¥å¤åˆ¶é»˜è®¤é…ç½®</li>
</ul>
<h4 id="åˆ›å»ºå¹¶å¯åŠ¨ä¸´æ—¶çš„å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºå¹¶å¯åŠ¨ä¸´æ—¶çš„å®¹å™¨" aria-hidden="true">#</a> åˆ›å»ºå¹¶å¯åŠ¨ä¸´æ—¶çš„å®¹å™¨</h4>
<div class="language-Basic line-numbers-mode" data-ext="Basic"><pre v-pre class="language-Basic"><code>docker run --name temp-nginx 8080:80 -d nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul>
<li>æ‰“å¼€åœ°å€æŸ¥çœ‹ï¼Œip:8080ï¼Œå¦‚æœæœ‰é¡µé¢ï¼Œåˆ™è¡¨ç¤º nginx éƒ¨ç½²æˆåŠŸï¼Œå¦‚æœæ²¡æœ‰åˆ™è¡¨ç¤ºéƒ¨ç½²å¤±è´¥æˆ–è€… nginx é•œåƒä¸‹è½½å¤±è´¥</li>
<li>å¤±è´¥åŸå› å¯»æ‰¾ï¼š
<ul>
<li>nginx é•œåƒä¸‹è½½å¤±è´¥ï¼šå‘½ä»¤ <code v-pre>docker images</code> æŸ¥çœ‹æ˜¯å¦ä¸‹è½½æˆåŠŸï¼Œæ²¡æœ‰åˆ™é‡æ–°ä¸‹è½½</li>
<li>éƒ¨ç½²å¤±è´¥ï¼šå‘½ä»¤ <code v-pre>docker logs temp-nginx</code> æŸ¥çœ‹é”™è¯¯æ—¥å¿—ä¿¡æ¯</li>
</ul>
</li>
</ul>
<h4 id="å¤åˆ¶é…ç½®" tabindex="-1"><a class="header-anchor" href="#å¤åˆ¶é…ç½®" aria-hidden="true">#</a> å¤åˆ¶é…ç½®</h4>
<ul>
<li>æ–°å»ºå­˜æ”¾ç›®å½• <code v-pre>mkdir -p /docker/nginx</code></li>
<li>æŠŠé…ç½®å¤åˆ¶åˆ° <code v-pre>/docker/nginx</code> ç›®å½•ä¸‹
<ul>
<li><code v-pre>docker cp temp-nginx:/etc/nginx/nginx.conf /docker/nginx</code></li>
<li><code v-pre>docker cp -a temp-nginx:/usr/share/nginx/html /docker/nginx</code></li>
<li>å…¶ä»–æ–‡ä»¶å¦‚æ—¥å¿—ï¼Œå¯ä»¥åé¢è‡ªå·±å†å»æ“ä½œï¼Œè¿™é‡ŒåªåšåŸºæœ¬éƒ¨ç½²</li>
</ul>
</li>
</ul>
<h4 id="åˆ é™¤ä¸´æ—¶å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤ä¸´æ—¶å®¹å™¨" aria-hidden="true">#</a> åˆ é™¤ä¸´æ—¶å®¹å™¨</h4>
<div class="language-Basic line-numbers-mode" data-ext="Basic"><pre v-pre class="language-Basic"><code>docker rm -f temp-nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="ä¿®æ”¹-nginx-conf-é…ç½®" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹-nginx-conf-é…ç½®" aria-hidden="true">#</a> ä¿®æ”¹ nginx.conf é…ç½®</h4>
<ul>
<li><code v-pre>vi /docker/nginx/nginx.conf</code></li>
<li>æ³¨é‡Š <code v-pre>include /etc/nginx/conf.d/*.conf;</code> è¿™æ®µè¯ï¼Œä¸ç„¶ä»–ä¼šå¼•å…¥ conf.d é‡Œçš„é…ç½®
<ul>
<li>å½“ç„¶ï¼Œå¦‚æœä½ ä¸æƒ³æ³¨é‡Šçš„è¯ï¼Œå¯ä»¥å‚è€ƒä¸Šé¢çš„æ–¹æ³•å¤åˆ¶ conf.d æ–‡ä»¶å¤¹ï¼Œåé¢è®°å¾—åŠ ä¸ªæ˜ å°„å°±è¡Œ</li>
</ul>
</li>
<li>åœ¨åŸæ–‡ä»¶çš„åŸºç¡€ä¸ŠåŠ ä¸Š <code v-pre>server</code></li>
</ul>
<details>
<summary>ğŸ‘€ æŸ¥çœ‹ nginx.conf è¯¦æƒ…</summary>
<div class="language-Conf line-numbers-mode" data-ext="Conf"><pre v-pre class="language-Conf"><code>user  nginx;
worker_processes  1;
error_log  /var/log/nginx/error.log warn;
pid        /var/run/nginx.pid;
events {
    worker_connections  1024;
}
http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;
    log_format  main  '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '
                      '$status $body_bytes_sent &quot;$http_referer&quot; '
                      '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;';
    access_log  /var/log/nginx/access.log  main;
    sendfile        on;
    keepalive_timeout  65;
    # æ³¨é‡Šä¸‹é¢è¿™æ®µï¼Œä¸ç„¶ä»–ä¼šå¼•å…¥conf.dé‡Œçš„é…ç½®
    # include /etc/nginx/conf.d/*.conf;
    # æ–‡ä»¶é‡Œé¢æ‰€æœ‰çš„è·¯å¾„éƒ½è¦å†™å®¹å™¨é‡Œçš„è·¯å¾„ï¼Œä¸è¦å†™æœ¬åœ°è·¯å¾„ï¼Œä¸ç„¶ä¼šæ‰¾ä¸åˆ°æ–‡ä»¶
    # æ‰€ä»¥åé¢ä¼šæŠŠæœ¬åœ°è·¯å¾„æ˜ å°„åˆ°å®¹å™¨è·¯å¾„
    # æ¯”å¦‚ /usr/share/nginx/html å…¶å®ä¼šè®¿é—® /docker/nginx/html ç›®å½•
    # å¼€å¯æœåŠ¡
    server {
        listen       80;
        server_name  biaov.cn;
        location / {
            # vueæ–‡ä»¶å­˜æ”¾ç›®å½•
            # æ³¨æ„è¿™é‡Œä¸€å®šæ˜¯å®¹å™¨è·¯å¾„ï¼Œä¸èƒ½æ˜¯æœ¬åœ°è·¯å¾„
            root   /usr/share/nginx/html;
            index  index.html index.htm;
        }
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h4 id="åˆ›å»ºæ˜ å°„çš„å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºæ˜ å°„çš„å®¹å™¨" aria-hidden="true">#</a> åˆ›å»ºæ˜ å°„çš„å®¹å™¨</h4>
<div class="language-Basic line-numbers-mode" data-ext="Basic"><pre v-pre class="language-Basic"><code>docker run -d --name nginx-http -p 80:80 -v /docker/nginx/html:/usr/share/nginx/html -v /docker/nginx/nginx.conf:/etc/nginx/nginx.conf nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ä¸Šä¼ -vue-æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#ä¸Šä¼ -vue-æ–‡ä»¶" aria-hidden="true">#</a> ä¸Šä¼  Vue æ–‡ä»¶</h3>
<ul>
<li>è¿™é‡Œä½¿ç”¨ FlashFXP ä¸Šä¼ ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ Xshell çš„ ftp ä¸Šä¼ </li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20210422184023959.png" alt="å›¾ç‰‡"></p>
<ul>
<li>æŠŠ Vue æ–‡ä»¶ä¸Šä¼ åˆ°è¿™ä¸ªç›®å½•å³å¯</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20210422184035728.png#pic_center" alt="å›¾ç‰‡"></p>
<ul>
<li>ç”¨åŸŸåæˆ– ip æŸ¥çœ‹ä¸‹ï¼Œå¦‚ <a href="https://biaov.cn/" target="_blank" rel="noopener noreferrer">biaov.cn<ExternalLinkIcon/></a></li>
</ul>
<div class="custom-container tip"><p class="custom-container-title">å®Œæˆ</p>
<p>éƒ¨ç½²å®Œæˆ</p>
</div>
<ul>
<li>é¢˜å¤–è¯-éƒ¨ç½² SSL è¯ä¹¦æµç¨‹</li>
<li>é˜¿é‡Œäº‘ä¸‹è½½ nginx çš„ SSl è¯ä¹¦(åŸŸåè¦ä¸€è‡´)</li>
<li>nginx.conf é…ç½® 443 ç«¯å£ï¼ˆè¯ä¹¦è®¿é—®åœ°å€è®°å¾—åšæ˜ å°„ï¼‰</li>
</ul>
<div class="language-Conf line-numbers-mode" data-ext="Conf"><pre v-pre class="language-Conf"><code>server {
    listen       443 ssl;
    server_name  biaov.cn;
    ssl_certificate      /etc/nginx/cert/biaov/biaov.cn.pem;
    ssl_certificate_key  /etc/nginx/cert/biaov/biaov.cn.key;
    ssl_session_cache    shared:SSL:1m;
    ssl_session_timeout  5m;
    ssl_ciphers  HIGH:!aNULL:!MD5;
    ssl_prefer_server_ciphers  on;
    location / {
        root   /usr/share/nginx/html;
        index  index.html index.htm;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>docker åˆ›å»ºå¹¶å¼€å¯ 443 ç«¯å£çš„å®¹å™¨</li>
</ul>
<div class="language-Basic line-numbers-mode" data-ext="Basic"><pre v-pre class="language-Basic"><code>docker run -d --name nginx-https -p 443:443 -v /docker/nginx/html:/usr/share/nginx/html -v /docker/nginx/nginx.conf:/etc/nginx/nginx.conf /docker/nginx/certs:/etc/nginx/cert -v /docker/nginx/config:/etc/nginx/config nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul>
<li>å‚è€ƒæ•™ç¨‹: <a href="https://www.runoob.com/docker/docker-tutorial.html" target="_blank" rel="noopener noreferrer">Docker æ•™ç¨‹<ExternalLinkIcon/></a></li>
</ul>
</div></template>


